########################################
# YAZI — Main Configuration File (TOML)
# Optimized for Omarchy v2.8.6
########################################

###########
# Manager #
###########
[manager]
show_hidden = true         # Show dotfiles
show_symlink = true        # Highlight symlinks  
scrolloff = 5              # Keep 5 lines context when scrolling
sort_by = "natural"        # Natural sorting (1, 2, 10 not 1, 10, 2)
sort_dir_first = true      # Directories first
linemode = "size"          # Show file sizes
ratio = [1, 4, 3]          # Sidebar | Main | Preview widths

############
# Preview  #
############
[preview]
wrap = "yes"               # Wrap long lines in preview
tab_size = 4               # Tab width
max_width = 1000           # Max preview width
max_height = 2000          # Max preview height
cache_dir = ""             # Use default cache location

###########
# Opener  #
###########
[opener]
# Text/Code → Neovim
edit = [
  { run = 'nvim "$@"', block = true, orphan = false, desc = "Edit in Neovim" }
]

# Images → imv
image = [
  { run = 'imv "$@"', block = false, orphan = true, desc = "View image" }
]

# PDFs → Zathura
pdf = [
  { run = 'zathura "$@"', block = false, orphan = true, desc = "Open PDF" }
]

# Archives → Show options
archive = [
  { run = 'file-roller "$@"', block = false, orphan = true, desc = "Extract with File Roller" }
]

# Videos → mpv (if installed)
video = [
  { run = 'mpv "$@"', block = false, orphan = true, desc = "Play video" }
]

# Diff tool → Meld (two files)
diff = [
  { run = 'meld "$@"', block = false, orphan = true, desc = "Compare in Meld" }
]

# Fallback → xdg-open
fallback = [
  { run = 'xdg-open "$@"', block = false, orphan = true, desc = "Open with default app" }
]

###########
# Open    #
###########
[open]
rules = [
  # Text files → Neovim
  { mime = "text/*", use = "edit" },
  { mime = "application/json", use = "edit" },
  { mime = "application/x-sh", use = "edit" },
  
  # Images → imv
  { mime = "image/*", use = "image" },
  
  # PDFs → Zathura
  { mime = "application/pdf", use = "pdf" },
  
  # Archives
  { mime = "application/*zip", use = "archive" },
  { mime = "application/x-tar", use = "archive" },
  { mime = "application/x-bzip*", use = "archive" },
  { mime = "application/x-7z-compressed", use = "archive" },
  { mime = "application/x-rar", use = "archive" },
  
  # Videos
  { mime = "video/*", use = "video" },
  
  # Everything else
  { mime = "*", use = "fallback" },
]

###############
# Input       #
###############
[input]
cursor_blink = false       # Solid cursor (easier to see)

##########
# Log    #
##########
[log]
enabled = false            # Disable logging (performance)
